<!-- Configuration form fragment for HTMX -->
<form id="configure-form">
    <div class="client-info">
        <h3>Client Information (Optional)</h3>
        <div class="form-row">
            <div class="form-group">
                <label for="client_name">Client Name:</label>
                <input type="text" id="client_name" name="client_name" 
                       value="{{ client_name }}" placeholder="Enter client name">
            </div>
            <div class="form-group">
                <label for="case_number">Case Number:</label>
                <input type="text" id="case_number" name="case_number" 
                       value="{{ case_number }}" placeholder="Enter case number">
            </div>
        </div>
    </div>
    
    <h3>Set Up Splits</h3>
    <div class="splits-container" id="splits-container">
        {% for split in splits %}
            {% include 'fragments/split_row.html' %}
        {% endfor %}
    </div>
    
    <button type="button" 
            class="btn-add"
            hx-post="/htmx/add-split"
            hx-target="#splits-container"
            hx-swap="beforeend"
            hx-trigger="click"
            hx-include="#configure-form">
        + Add Split
    </button>
    
    <div style="margin-top: 2rem; text-align: center;">
        <button type="button"
                class="btn-primary"
                hx-post="/htmx/process"
                hx-target="#results-content"
                hx-trigger="click"
                hx-include="#configure-form"
                hx-indicator="#process-spinner">
            Process PDF Splits
        </button>
        <span id="process-spinner" class="loading" style="display:none; margin-left: 1rem;"></span>
    </div>
</form>